<div class="icon-selector-dialog">
  <!-- Dialog Header -->
  <div class="dialog-header">
    <h2 class="dialog-title">
      <mat-icon class="title-icon">emoji_emotions</mat-icon>
      Select Icon
    </h2>
    <button mat-icon-button (click)="onCancel()" class="close-button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Search Bar -->
  <div class="search-container">
    <div class="search-input-wrapper">
      <mat-icon class="search-icon">search</mat-icon>
      <input 
        type="text" 
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()"
        placeholder="Search icons..."
        class="search-input"
        autocomplete="off"
        spellcheck="false"
      />
      <button 
        *ngIf="searchTerm" 
        mat-icon-button 
        (click)="clearSearch()" 
        class="clear-search-button"
        type="button">
        <mat-icon>clear</mat-icon>
      </button>
    </div>
  </div>

  <!-- Icons Grid -->
  <div class="icons-container">
    <div *ngIf="filteredIcons.length === 0" class="no-results">
      <mat-icon class="no-results-icon">search_off</mat-icon>
      <p class="no-results-text">No icons found for "{{ searchTerm }}"</p>
      <button mat-stroked-button (click)="clearSearch()" class="clear-search-btn">
        Clear Search
      </button>
    </div>

    <div *ngIf="filteredIcons.length > 0" class="icons-grid">
      @for (icon of filteredIcons; track icon) {
      <button 
        type="button"
        (click)="selectIcon(icon)"
        class="icon-option"
        [class.selected]="selectedIcon === icon"
        [attr.aria-label]="'Select ' + icon + ' icon'">
        <mat-icon class="icon">{{ icon }}</mat-icon>
        <!-- <span class="icon-name">{{ icon }}</span> -->
      </button>
      }
    </div>
  </div>

  <!-- Dialog Actions -->
  <div class="dialog-actions">
    <button mat-stroked-button (click)="onCancel()" class="cancel-button">
      Cancel
    </button>
    <button 
      mat-raised-button 
      color="primary" 
      (click)="selectIcon(selectedIcon)"
      class="select-button">
      <mat-icon>check</mat-icon>
      Select Icon
    </button>
  </div>
</div> 