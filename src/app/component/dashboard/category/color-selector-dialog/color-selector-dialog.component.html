<div class="color-selector-dialog">
  <!-- Simplified Header -->
  <div class="dialog-header">
    <h2 class="dialog-title">Choose Color</h2>
    <button mat-icon-button (click)="onCancel()" class="close-button" aria-label="Close">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Streamlined Search -->
  <div class="search-container">
    <div class="search-input-wrapper">
      <mat-icon class="search-icon">search</mat-icon>
      <input 
        type="text" 
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()"
        placeholder="Search colors..."
        class="search-input"
        autocomplete="off"
        spellcheck="false"
      />
      <button 
        *ngIf="searchTerm" 
        mat-icon-button 
        (click)="clearSearch()" 
        class="clear-search-button"
        type="button"
        aria-label="Clear search">
        <mat-icon>clear</mat-icon>
      </button>
    </div>
  </div>

  <!-- Improved Colors Grid -->
  <div class="colors-container">
    <div *ngIf="filteredColors.length === 0" class="no-results">
      <mat-icon class="no-results-icon">search_off</mat-icon>
      <p class="no-results-text">No colors found</p>
      <button mat-stroked-button (click)="clearSearch()" class="clear-search-btn">
        Clear Search
      </button>
    </div>

    <div *ngIf="filteredColors.length > 0" class="colors-grid">
      @for (color of filteredColors; track color) {
      <button 
        type="button"
        (click)="selectColor(color.value)"
        class="color-option"
        [class.selected]="selectedColor === color.value"
        [style.background-color]="color.value"
        [attr.aria-label]="'Select ' + color.label + ' color'">
        <!-- <div class="color-preview" [style.background-color]="color.value"></div> -->
        <span class="color-name">{{ color.label }}</span>
        @if (selectedColor === color.value) {
        <mat-icon class="check-icon">check</mat-icon>
        }
      </button>
      }
    </div>
  </div>

  <!-- Simplified Actions -->
  <div class="dialog-actions">
    <button mat-stroked-button (click)="onCancel()" class="cancel-button">
      Cancel
    </button>
  </div>
</div> 