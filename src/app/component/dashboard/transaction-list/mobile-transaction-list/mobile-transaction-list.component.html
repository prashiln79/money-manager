<div class="mobile-transaction-container">
  <!-- Mobile Header with Summary -->
  

  <!-- Transaction List -->
  <div class="transaction-list-container">
    <div class="transaction-scroll">
      <!-- Empty State -->
      <div *ngIf="!filteredTransactions.length" class="empty-state">
        <div class="empty-icon">
          <mat-icon>receipt_long</mat-icon>
        </div>
        <h3 class="empty-title text-base">No transactions for {{ getCurrentYear() }}</h3>
        <p class="empty-description text-base">
          {{ transactions.length === 0 ? 'Start by adding your first transaction' : 'No transactions found for the current year. Try adjusting your filters.' }}
        </p>
        <button *ngIf="transactions.length === 0" 
                mat-raised-button 
                color="primary" 
                class="add-first-btn"
                (click)="onAddTransaction()">
          <mat-icon>add</mat-icon>
          <span class="text-base">Add First Transaction</span>
        </button>
      </div>

      <!-- Transaction Cards -->
      <div *ngFor="let tx of filteredTransactions; let i = index" 
           class="transaction-card"
           [class.selected]="selectedTx?.id === tx.id"
           (click)="onLongPress(tx)">
        
        <!-- Main Transaction Content -->
        <div class="transaction-main">
          <!-- Icon Section -->
          <div class="transaction-icon">
            <div class="icon-container" [ngClass]="tx.type === 'income' ? 'income-bg' : 'expense-bg'">
              <mat-icon [ngClass]="tx.type === 'income' ? 'income-icon' : 'expense-icon'">
                {{ tx.type === 'income' ? 'trending_up' : 'trending_down' }}
              </mat-icon>
            </div>
          </div>

          <!-- Transaction Details -->
          <div class="transaction-details">
            <div class="transaction-title text-base">
              {{ tx.payee | titlecase }}
            </div>
            <div class="transaction-category text-base">
              {{ tx.category }}
            </div>
            <div class="transaction-date text-base">
              {{ tx.date.seconds * 1000 | date:'MMM dd, yyyy' }}
              <span class="time-separator">•</span>
              {{ tx.date.seconds * 1000 | date:'hh:mm a' }}
            </div>
            <div *ngIf="tx.notes" class="transaction-notes text-base">
              {{ tx.notes }}
            </div>
          </div>

          <!-- Amount Section -->
          <div class="transaction-amount">
            <div class="amount-value text-base" [ngClass]="tx.type === 'income' ? 'income-text' : 'expense-text'">
              {{ tx.type === 'income' ? '+' : '-' }}₹{{ tx.amount | number:'1.0-0' }}
            </div>
            <div class="amount-type text-base">
              {{ tx.type }}
            </div>
          </div>
        </div>

        <!-- Action Buttons (shown when selected) -->
        <div *ngIf="selectedTx?.id === tx.id" class="transaction-actions">
          <div class="actions-container">
            <button mat-icon-button 
                    class="action-button edit-btn" 
                    (click)="onEditTransaction(tx)"
                    matTooltip="Edit transaction">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button 
                    class="action-button delete-btn" 
                    (click)="onDeleteTransaction(tx)"
                    matTooltip="Delete transaction">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div> 