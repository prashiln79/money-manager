@if (isMobile) {
  <div class="overflow-auto h-fit md:max-h-[60vh] lg:max-h-[70vh] hide-scrollbar">
    <div *ngFor="let tx of dataSource.data; let i = index">
      <mat-card 
        class="my-3 p-4 w-full shadow-md rounded-lg border border-gray-200 relative"
        (press)="onLongPress(tx)"
        (click)="onLongPress(tx)"
      >
        <section class="flex items-center space-x-4">
          <!-- Icon Section -->
          <div class="p-2 bg-gray-100 rounded-full flex items-center justify-center">
            <mat-icon class="!w-fit !h-fit text-4xl">insert_invitation</mat-icon>
          </div>
    
          <!-- Transaction Details -->
          <div class="flex-1">
            <div class="font-semibold text-sm lg:text-lg text-gray-800">{{ tx?.payee + '- ' + tx.category}}</div>
            <div class="text-gray-500 text-sm">
              {{ tx?.date.seconds * 1000 | date: 'dd/MM/yyyy hh:mm a' }}
            </div>
          </div>
          <div class="font-bold text-lg text-primary">{{  (tx?.type == 'income' ? '+':'-' ) + ' â‚¹' + tx?.amount }}</div>
        </section>
  
        <!-- Edit/Delete Options -->
        <div 
          *ngIf="selectedTx?.id === tx.id" 
          class="absolute top-0 right-0 bg-white rounded-lg p-2 flex space-x-2"
        >
          <button mat-icon-button color="secondary" (click)="editTransaction(tx)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="secondary" (click)="deleteTransaction(tx)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
        
      </mat-card>
    </div>
  </div>
  
} @else {




<mat-card class="p-4 ">
  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="mb-2 mr-1">compare_arrows</mat-icon>
        <h6 class="font-bold !text-sm"> <i class="fa fa-exchange" aria-hidden="true"></i> Transactions</h6>
      </ng-template>

      <section class="w-full relative min-h-[64vh] max-h-[64vh] ">

        <table mat-table [dataSource]="dataSource" matSort>
          <ng-container matColumnDef="Date">
            <th mat-header-cell *matHeaderCellDef><span class="font-extrabold">Date</span></th>
            <td mat-cell *matCellDef="let element" class="w-1/5">
              {{ element.date.seconds * 1000 | date:'dd/MM/yyyy hh:mm a' }}
            </td>
          </ng-container>

          <ng-container matColumnDef="Type">
            <th mat-header-cell *matHeaderCellDef><span class="font-extrabold">Type</span></th>
            <td mat-cell *matCellDef="let element">{{element.type}}</td>
          </ng-container>

          <ng-container matColumnDef="Payee">
            <th mat-header-cell *matHeaderCellDef><span class="font-extrabold">Payee</span></th>
            <td mat-cell *matCellDef="let element">{{element.payee}}</td>
          </ng-container>

          <ng-container matColumnDef="Amount">
            <th mat-header-cell *matHeaderCellDef><span class="font-extrabold">Amount</span></th>
            <td mat-cell *matCellDef="let element">{{element.amount}}</td>
          </ng-container>

          <ng-container matColumnDef="Status">
            <th mat-header-cell *matHeaderCellDef><span class="font-extrabold">Type</span></th>
            <td mat-cell *matCellDef="let element">{{element.type}}</td>
          </ng-container>

          <ng-container matColumnDef="Actions">
            <th mat-header-cell *matHeaderCellDef><span class="font-extrabold">Actions</span></th>
            <td mat-cell *matCellDef="let element" class="text-center">

              <div class="border rounded-md inline-block p-0">
                <button mat-icon-button (click)="editTransaction(element)">
                  <mat-icon>edit</mat-icon>
                </button>
              </div>
              <div class="border rounded-md inline-block p-0 ml-2">
                <button mat-icon-button (click)="deleteTransaction(element)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          <!-- no data -->
          <!-- <tr *ngIf="!dataSource.data?.length"> No Data </tr> -->
        </table>

      </section>
      <div class="flex justify-start  w-full  bottom-0 absolute bg-white h-[50px]">
        <mat-paginator #Paginator [pageSizeOptions]="pageSizeOptions" aria-label="Select page of users"></mat-paginator>
        <!-- <span class="text-sm flex align-bottom items-end"><a class="hover:underline cursor-pointer">Import bank transactions</a> | <a
          class="hover:underline cursor-pointer">Export CSV Transactions</a></span> -->
      </div>
      <add-transaction *ngIf="!isMobile"></add-transaction>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="mb-2">attach_money</mat-icon>
        <h6 class="font-bold !text-sm"> Accounts</h6>
      </ng-template>
      <section class="w-full">
        <user-accounts></user-accounts>
      </section>

    </mat-tab>
    <mat-tab label="">
      <ng-template mat-tab-label>
        <mat-icon class="mb-2 mr-1">local_offer</mat-icon>
        <h6 class="font-bold !text-sm">Tags</h6>
      </ng-template>
      <section>
        <transaction-category></transaction-category>
      </section>
    </mat-tab>
  </mat-tab-group>


</mat-card>
}