<!-- Mobile Header -->
<div class="mobile-header">
  <div class="header-content">
    <div class="header-left">
      <button 
        mat-icon-button 
        type="button" 
        (click)="onCancel()" 
        matTooltip="Close" 
        class="close-button mobile-only"
      >
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h6 class="header-title">
        Create New Group
      </h6>
    </div>
    
    <!-- Desktop Close Button -->
    <button 
      mat-icon-button 
      type="button" 
      (click)="onCancel()" 
      matTooltip="Close" 
      class="close-button desktop-only"
    >
      <mat-icon>close</mat-icon>
    </button>
    
    <!-- Create Button -->
    <button 
      mat-raised-button 
      color="primary" 
      (click)="onSubmit()" 
      [disabled]="groupForm.invalid || isSubmitting" 
      matTooltip="Create Group" 
      class="save-button"
    >
      <mat-spinner *ngIf="isSubmitting" diameter="16"></mat-spinner>
      {{ isSubmitting ? 'Creating...' : 'Create' }}
    </button>
  </div>
</div>

<!-- Mobile Form Content -->
<div class="mobile-content">
  <div class="form-container">
    <form [formGroup]="groupForm" (ngSubmit)="onSubmit()" class="group-form">
      
      <!-- Group Name Field -->
      <div class="form-field">
        <label class="field-label">
          <mat-icon class="field-icon">group</mat-icon>
          Group Name *
        </label>
        <input 
          type="text" 
          formControlName="name" 
          placeholder="Enter group name"
          autofocus
          maxlength="50"
          class="form-input"
        />
        <div class="field-footer">
          @if(groupForm.get('name')?.hasError('required') && groupForm.get('name')?.touched) {
            <p class="error-message">Group name is required</p>
          }
          @if(groupForm.get('name')?.hasError('minlength') && groupForm.get('name')?.touched) {
            <p class="error-message">Group name must be at least 2 characters</p>
          }
          @if(groupForm.get('name')?.hasError('maxlength') && groupForm.get('name')?.touched) {
            <p class="error-message">Group name must not exceed 50 characters</p>
          }
          <span class="character-count">
            {{ groupForm.get('name')?.value?.length || 0 }}/50
          </span>
        </div>
      </div>

      <!-- Description Field -->
      <div class="form-field">
        <label class="field-label">
          <mat-icon class="field-icon">description</mat-icon>
          Description (Optional)
        </label>
        <textarea 
          formControlName="description" 
          placeholder="Describe your group"
          maxlength="200"
          rows="3"
          class="form-input"
        ></textarea>
        <div class="field-footer">
          @if(groupForm.get('description')?.hasError('maxlength') && groupForm.get('description')?.touched) {
            <p class="error-message">Description must not exceed 200 characters</p>
          }
          <span class="character-count">
            {{ groupForm.get('description')?.value?.length || 0 }}/200
          </span>
        </div>
      </div>

      <!-- Info Section -->
      <div class="info-section">
        <mat-icon class="info-icon">info</mat-icon>
        <div class="info-content">
          <h4>What happens next?</h4>
          <ul>
            <li>You'll be added as the group admin</li>
            <li>You can invite friends by email</li>
            <li>Start adding shared expenses</li>
            <li>Track who owes what to whom</li>
          </ul>
        </div>
      </div>

      <!-- Bottom Spacing for Mobile -->
      <div class="bottom-spacing"></div>
    </form>
  </div>
</div> 